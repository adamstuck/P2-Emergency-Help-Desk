<!DOCTYPE html>
<html lang="en">
    <head>
        <title>112Help</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" type="text/css" href="styles.css">
        <script async defer src="scripts/map.js"></script>
        <script async defer src="scripts/record.js"></script>
        <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBAWN32yPAzJsiUC5R2lhSW1qGe0VY82Uk&callback=InitMap"></script>
        <script async defer src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    </head>

    <body>
      <header>
        <div class="navbar">
            <a href="" class="active"><div class="nav-text">112Help</div></a>
            <a href="info.html"><div class="nav-text">Info</div></a>
            <a href="tel:112" class="right"><div class="nav-text">Call 112</div></a>
            <a href="corona.html"><div class="nav-text">COVID-19</div></a>
            <a href="/authentication/authentication.html"><div class="nav-text">EMD-Login</div></a>
        </div>

<nav>
  <input type="button" id="clickCorona" value="Corona info">
  <input type="button" id="clickFirstAid" value="First Aid">
</nav>

      </header>

      <main>
        <div id="google_translate_element"></div>

        <div class="main">
            <h2>Drag the Marker to the Emergency</h2>
            <input id="address" type="textbox" value="" placeholder="Search Google Maps">
            <input id="search" type="button" value="Search">
            <input id="gps" type="button" value="GPS">
            <br><br>

            <div id="map"></div>
            <br>

            <textarea id="desc" placeholder="Describe the emergency... (Who, what, where, when...)"></textarea>
            <br><br>

            <input id="submit" type="button" value="Submit">
            <br><br>

            <input id="start-audio-rec" type="button" value="Record">
            <input id="stop-audio-rec" type="button" value="Stop">
            <a id="download" class="button-base">Download</a>
        </div>
      </main>

        <div class="footer">
            <h3>For emergencies call 112 — For less acute issues call 114 — Developed by 112-gang</h3>
        </div>

        <script type="text/javascript">
            let ws = new WebSocket("ws://localhost:25654");
            submitButton.addEventListener('click', function(){ SubmitButton(); });

            ws.onopen = function() {
                console.log("hello");
            }

            function SubmitButton() {
                //console.log("testing");
                ws.send(document.getElementById('desc').value);
            }

           /*function sendData(type, data) {
                ws.send(JSON.stringify({
                    type: type,
                    data: data
                }));
            }*/
        </script>

    </body>
</html>