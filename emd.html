<!DOCTYPE html>
<html lang="en">
    <head>
        <title>112Help - EMD Side</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="styles.css">

        <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyBAWN32yPAzJsiUC5R2lhSW1qGe0VY82Uk&sensor=false"></script> 
        <script async defer src="scripts/scriptForEMD.js"></script>
        <script async src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    </head>

    <body>
      <div class="navbar">
        <a href="index.html"><div class="nav-text">112Help</div></a>
        <a href="info.html"><div class="nav-text">Info</div></a>
        <a href="translate.html"><div class="nav-text">Translate</div></a>
      </div>

      <div id="google_translate_element"></div>

      <br><br>

      <div id="map"></div>

      <table id="table" border="1" style="float: middle; font-size:20px;">
      <tr>
        <th>No.</th>
        <th>Location</th>
        <th>Situation</th>
        <th>Longitude</th>
        <th>Latitude</th>
      </tr>
    </table>

    <div class="footer">
      <h3>For emergencies call 112 — For less acute issues call 114 — Developed by 112-gang</h3>
    </div>
    <script type="text/javascript">
        let ws = new WebSocket("ws://localhost:25654");

        ws.onopen = function() {
            ws.send("EMD")
        }

        //On message recieved from server, add it to the log
        ws.onmessage = function(event) {
            json = JSON.parse(event.data);
            PlaceMarker(json);
        }

        /*function sendData(type, data) {
            ws.send(JSON.stringify({
                type: type,
                data: data
            }));
        }*/

        //On send button click, send message to server and add to the log
        /*document.querySelector('button').onclick = function() {
            sendData("message", text.value);
            log.innerHTML += name + ": " + text.value + "<br>";
        }*/
    </script>
    
  </body>
</html>
